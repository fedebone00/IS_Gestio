(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[920],{1230:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/timbraPresenza",function(){return n(7315)}])},1262:function(){"use strict"},7636:function(e,t,n){"use strict";n.d(t,{N:function(){return i}});var r=n(5893),s=(n(9008),n(5675)),a=n.n(s),o=(n(1664),n(1262),n(7294),n(5434));function i(){return(0,r.jsxs)("div",{className:"flex flex-col fixed left-0 top-0 w-64 h-screen bg-gray-700 text-center gap-6",children:[(0,r.jsx)("h1",{className:" font-extrabold text-2xl text-gray-400 py-5 mt-4",children:"Dipendente"}),(0,r.jsx)("a",{href:"areaDipendente",children:(0,r.jsxs)("h3",{className:" text-gray-400 inline-flex items-center justify-center ",children:[(0,r.jsx)(o.b2E,{fontSize:20})," Pagina iniziale"]})}),(0,r.jsx)("a",{href:"timbraPresenza",children:(0,r.jsxs)("h3",{className:" text-gray-400 inline-flex items-center justify-center",children:[(0,r.jsx)(o.y6x,{fontSize:20}),"Timbra presenza"]})}),(0,r.jsx)("a",{href:"gestioneFerie",children:(0,r.jsxs)("h3",{className:" text-gray-400 inline-flex items-center justify-center",children:[(0,r.jsx)(o.Yfi,{fontSize:20}),"Gestione Ferie"]})}),(0,r.jsx)("a",{href:"notificaMalattia",children:(0,r.jsxs)("h3",{className:" text-gray-400 inline-flex items-center justify-center",children:[(0,r.jsx)(o.hsd,{fontSize:20}),"Notifica malattia"]})}),(0,r.jsx)("a",{href:"contattaColleghi",children:(0,r.jsxs)("h3",{className:" text-gray-400 inline-flex items-center justify-center",children:[(0,r.jsx)(o.YGi,{fontSize:20}),"Contatta colleghi"]})}),(0,r.jsx)("a",{href:"cloudAziendale",children:(0,r.jsxs)("h3",{className:" text-gray-400 inline-flex items-center justify-center",children:[(0,r.jsx)(o.x_i,{fontSize:20}),"Cloud aziendale"]})}),(0,r.jsx)("div",{className:"py-96",children:(0,r.jsx)(a(),{src:"/../public/logo.png",alt:"GESTIO",width:150,height:130})})]})}},9826:function(e,t,n){"use strict";n.d(t,{D:function(){return p}});var r=n(4051),s=n.n(r),a=n(5893),o=n(5434),i=n(3750),c=n(3447),l=n(1407),u=n(7294),d=n(1163),h=n.n(d);function f(e,t,n,r,s,a,o){try{var i=e[a](o),c=i.value}catch(l){return void n(l)}i.done?t(c):Promise.resolve(c).then(r,s)}function x(e){return function(){var t=this,n=arguments;return new Promise((function(r,s){var a=e.apply(t,n);function o(e){f(a,r,s,o,i,"next",e)}function i(e){f(a,r,s,o,i,"throw",e)}o(void 0)}))}}function p(e){var t=e.title;function n(){return(n=x(s().mark((function e(t){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),console.log("Dentro Funzione"),localStorage.removeItem("jwt"),localStorage.removeItem("rt"),h().push("/");case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return(0,a.jsxs)("div",{className:"container flex flex-wrap justify-between items-center ml-56 m-0 font-semibold text-2xl gap-0",children:[(0,a.jsx)("h1",{className:"relative flex items-center",children:t}),(0,a.jsxs)("div",{className:"flex flex-row text-gray-400 gap-5 items-center",children:[(0,a.jsx)(o.vU7,{fontSize:25}),(0,a.jsx)(i.JdD,{fontSize:23}),(0,a.jsx)(a.Fragment,{children:"|"}),(0,a.jsxs)(c.v,{as:"div",className:"relative inline-block text-left",children:[(0,a.jsx)("div",{children:(0,a.jsx)(c.v.Button,{className:"inline-flex w-full justify-center rounded-lg py-2 text-sm font-medium ",children:(0,a.jsx)(o.xXU,{fontSize:30})})}),(0,a.jsx)(l.u,{as:u.Fragment,enter:"transition ease-out duration-100",enterFrom:"transform opacity-0 scale-95",enterTo:"transform opacity-100 scale-100",leave:"transition ease-in duration-75",leaveFrom:"transform opacity-100 scale-100",leaveTo:"transform opacity-0 scale-95",children:(0,a.jsx)(c.v.Items,{className:"absolute text-gray-700 text-lg items-center py-2 right-0 mt-2 w-64 font-normal origin-top-right divide-y divide-gray-100 rounded-md bg-white focus:outline-none",children:(0,a.jsxs)("div",{className:"px-1 py-1 ",children:[(0,a.jsx)(c.v.Item,{children:(0,a.jsxs)("h1",{className:"group flex w-full items-center rounded-md px-3 py-3 ",children:[" ","Informazioni dipendente ",(0,a.jsx)(o.FNi,{})]})}),(0,a.jsx)(c.v.Item,{children:(0,a.jsxs)("h1",{className:"group flex w-full items-center rounded-md px-3 py-3 ",children:[" ","Sito aziendale ",(0,a.jsx)(o.FNi,{})]})}),(0,a.jsx)(c.v.Item,{children:(0,a.jsxs)("h1",{className:"group flex w-full items-center rounded-md px-3 py-3 ",children:[" ","Link utile 1 ",(0,a.jsx)(o.FNi,{})]})}),(0,a.jsx)(c.v.Item,{children:(0,a.jsxs)("h1",{className:"group flex w-full items-center rounded-md px-3 py-3 ",children:[" ","link utile 2 ",(0,a.jsx)(o.FNi,{})]})}),(0,a.jsx)(c.v.Item,{disabled:!0,children:(0,a.jsxs)("h1",{className:"group flex w-full items-center bg-gray-600 text-white justify-center rounded-md px-3 py-3 ",children:[(0,a.jsx)("a",{href:"/",onClick:function(e){return n.apply(this,arguments)},children:"LOGOUT"})," "]})})]})})})]}),(0,a.jsx)(o.Vpg,{fontSize:45})]})]})}t.Z=p},7315:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return x}});var r=n(4051),s=n.n(r),a=n(5893),o=n(7294),i=n(7636),c=n(9826),l=n(1163),u=n.n(l);function d(e,t,n,r,s,a,o){try{var i=e[a](o),c=i.value}catch(l){return void n(l)}i.done?t(c):Promise.resolve(c).then(r,s)}function h(e){return function(){var t=this,n=arguments;return new Promise((function(r,s){var a=e.apply(t,n);function o(e){d(a,r,s,o,i,"next",e)}function i(e){d(a,r,s,o,i,"throw",e)}o(void 0)}))}}function f(e){if(e){var t=e.split(".")[1].replace("-","+").replace("_","/");return JSON.parse(window.atob(t))}}function x(){var e=(0,o.useState)(""),t=e[0],r=e[1],l=(0,o.useState)(""),d=l[0],x=l[1],p=(0,o.useState)(""),g=p[0],m=p[1],v=(0,o.useState)(1),j=v[0],y=v[1],w=(0,o.useState)(!1),b=w[0],S=w[1],k=(0,o.useState)(""),N=k[0];k[1];function E(){return(E=h(s().mark((function e(t){var n;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),n=t.target.checked,console.log("CHECKED--\x3e",n),S(n);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function P(){return(P=h(s().mark((function e(r){var a;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.preventDefault(),console.log("Storico"),e.prev=2,a=n(9669),e.next=6,a({method:"GET",url:"https://gestio-is.herokuapp.com/api/v1/timbratura",headers:{"x-access-token":t}}).then((function(e){console.log(e.data),m(e.data)}));case 6:e.sent,e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})))).apply(this,arguments)}function T(){return(T=h(s().mark((function e(a){var o,i,c,l,h,f,p;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),console.log("Timbra"),o=new Date,i=String(o.getDate()).padStart(2,"0"),c=String(o.getMonth()+1).padStart(2,"0"),l=o.getFullYear(),h=o.getHours()+":"+o.getMinutes(),o=c+"/"+i+"/"+l,e.prev=8,f=n(9669),e.next=12,f({method:"POST",url:"https://gestio-is.herokuapp.com/api/v1/timbratura",headers:{"x-access-token":t},data:{data:o,ora:h,tipo:"ingresso",smartworking:b}}).then((function(e){var t=e.data;console.log("RESPONSE--\x3e",t)}));case 12:e.sent,e.next=18;break;case 15:e.prev=15,e.t0=e.catch(8),e.t0.response?(console.log("RESPONSE"),N=e.t0.response.status,console.log(N)):e.t0.request?(N=400,console.log(e.t0.request)):console.log("Error",e.t0.message);case 18:return e.prev=18,e.finish(18);case 20:if(400!=N){e.next=34;break}return N=0,e.prev=22,p=n(9669),e.next=26,p({method:"POST",url:"https://gestio-is.herokuapp.com/api/v1/refresh",headers:{"x-access-token":t},data:{rt:d}}).then((function(e){var n=e.data;console.log("RESPONSE--\x3e",n),localStorage.setItem("jwt",n.jwt),localStorage.setItem("rt",n.rt),r(n.jwt),x(n.rt),console.log("JWT--\x3e",t),console.log("RT--\x3e",d)}));case 26:e.sent,e.next=32;break;case 29:e.prev=29,e.t1=e.catch(22),e.t1.response?(N=e.t1.response.data,console.log(N)):e.t1.request?console.log(e.t1.request):console.log("Error",e.t1.message);case 32:return e.prev=32,e.finish(32);case 34:"Refresh token expired, please log in again"==N&&u().push("/");case 35:case"end":return e.stop()}}),e,null,[[8,15,18,20],[22,29,32,34]])})))).apply(this,arguments)}function z(){return(z=h(s().mark((function e(a){var o,i,c,l,h,f,p;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),console.log("Timbra"),o=new Date,i=String(o.getDate()).padStart(2,"0"),c=String(o.getMonth()+1).padStart(2,"0"),l=o.getFullYear(),h=o.getHours()+":"+o.getMinutes(),o=c+"/"+i+"/"+l,e.prev=8,f=n(9669),e.next=12,f({method:"POST",url:"https://gestio-is.herokuapp.com/api/v1/timbratura",headers:{"x-access-token":t},data:{data:o,ora:h,tipo:"uscita",smartworking:b}}).then((function(e){var t=e.data;console.log("RESPONSE--\x3e",t)}));case 12:e.sent,e.next=18;break;case 15:e.prev=15,e.t0=e.catch(8),e.t0.response?(console.log("RESPONSE"),N=e.t0.response.status,console.log(N)):e.t0.request?(N=400,console.log(e.t0.request)):console.log("Error",e.t0.message);case 18:return e.prev=18,e.finish(18);case 20:if(400!=N){e.next=34;break}return N=0,e.prev=22,p=n(9669),e.next=26,p({method:"POST",url:"https://gestio-is.herokuapp.com/api/v1/refresh",headers:{"x-access-token":t},data:{rt:d}}).then((function(e){var n=e.data;console.log("RESPONSE--\x3e",n),localStorage.setItem("jwt",n.jwt),localStorage.setItem("rt",n.rt),r(n.jwt),x(n.rt),console.log("JWT--\x3e",t),console.log("RT--\x3e",d)}));case 26:e.sent,e.next=32;break;case 29:e.prev=29,e.t1=e.catch(22),e.t1.response?(N=e.t1.response.data,console.log(N)):e.t1.request?console.log(e.t1.request):console.log("Error",e.t1.message);case 32:return e.prev=32,e.finish(32);case 34:"Refresh token expired, please log in again"==N&&u().push("/");case 35:case"end":return e.stop()}}),e,null,[[8,15,18,20],[22,29,32,34]])})))).apply(this,arguments)}return(0,o.useEffect)((function(){setTimeout((function(){r(localStorage.getItem("jwt")),x(localStorage.getItem("rt")),y(0)}),50)}),[]),j?(0,a.jsx)("div",{}):(console.log("JWT--\x3e",t),void 0==t?(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{children:"Devi prima effettuare il login!"}),(0,a.jsx)("a",{href:"/",children:"Vai alla pagina di login"})]}):"DIP0"==f(t).role||"DIP1"==f(t).role?(0,a.jsxs)("div",{children:[(0,a.jsx)(i.N,{}),(0,a.jsx)(c.Z,{}),(0,a.jsxs)("div",{className:" flex flex-row px-96 h-20 justify-between ",children:[(0,a.jsx)("button",{className:"flex px-4 inline-block items-center bg-gray-200 text-gray-700 font-medium text-xs leading-tight uppercase rounded shadow-md hover:bg-gray-400 hover:shadow-lg focus:bg-gray-400 focus:shadow-lg focus:outline-none focus:ring-0 active:bg-gray-400 active:shadow-lg transition duration-150 ease-in-out",onClick:function(e){return T.apply(this,arguments)},children:"timbra presenza"}),(0,a.jsx)("button",{className:"flex px-4 inline-block items-center bg-gray-200 text-gray-700 font-medium text-xs leading-tight uppercase rounded shadow-md hover:bg-gray-400 hover:shadow-lg focus:bg-gray-400 focus:shadow-lg focus:outline-none focus:ring-0 active:bg-gray-400 active:shadow-lg transition duration-150 ease-in-out",onClick:function(e){return z.apply(this,arguments)},children:"timbra uscita"}),(0,a.jsxs)("div",{className:"form-check",children:[(0,a.jsx)("input",{className:"form-check-input appearance-none h-4 w-4 border border-gray-300 rounded-sm bg-white checked:bg-blue-600 checked:border-blue-600 focus:outline-none transition duration-200 mt-1 align-top bg-no-repeat bg-center bg-contain float-left mr-2 cursor-pointer",type:"checkbox",value:"",id:"Smart-working",onChange:function(e){return E.apply(this,arguments)}}),(0,a.jsx)("label",{className:"form-check-label inline-block text-gray-800",children:"Smart-Working"})]})]}),(0,a.jsx)("div",{className:" flex px-80 py-20",children:(0,a.jsx)("h1",{className:"border rounded flex-row justify-center items-center px-80 py-20",onClick:function(e){return P.apply(this,arguments)},dangerouslySetInnerHTML:{__html:g}})})]}):(0,a.jsx)("div",{children:(0,a.jsx)("h1",{children:"ERROR!!"})}))}}},function(e){e.O(0,[228,13,873,629,669,774,888,179],(function(){return t=1230,e(e.s=t);var t}));var t=e.O();_N_E=t}]);